<!-- FILE: secretary-dashboard.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panel Secretaría — CLINICAVET</title>

  <!-- stylesheet -->
  <link rel="stylesheet" href="../css/secretary-dashboard.css" />

  <!-- NOTE for BACK-END:
       - This page is rendered server-side by PHP when possible.
       - Replace the placeholder values below with PHP echoes or templates:
         e.g. <?php echo $activePatients; ?>, <?php echo $consultationsThisMonth; ?>, etc.
       - Endpoints (suggested) that backend should provide:
         GET /api/getPatients.php
         GET /api/getConsultations.php
         POST /api/registerPatient.php
         POST /api/registerConsultation.php
  -->
</head>
<body>

  <div class="sd-container">

    <!-- TOPBAR -->
    <header class="sd-topbar">
      <div class="sd-topbar-left">
        <!-- Logo: using uploaded asset path (replace with final path on server) -->
        <img src="/mnt/data/A_vector-based_logo_in_teal_color_features_a_styli.png" alt="Logo CLINICAVET" class="sd-logo" />
        <div class="sd-title">
          <h1>CLINICAVET</h1>
          <p class="muted">Panel Secretaría General</p>
        </div>
      </div>

      <div class="sd-topbar-right">
        <!-- Back / role-aware link:
             BACKEND: replace href with the correct dashboard according to authenticated role.
             Example PHP:
             <?php if($user_role === 'admin') echo 'admin-dashboard.html'; else if($user_role === 'doctor') echo 'ddoctor-dashboard.html'; ?>
        -->
        <a href="../CRS/pages/admin-dashboard.html" class="btn ghost">Volver</a>

        <!-- Logout:
             BACKEND: change to endpoint that clears session (e.g. /logout.php).
             For now it links to login page.
        -->
        <a href="../CRS/pages/llogin.html" class="btn danger">Cerrar sesión</a>
      </div>
    </header>

    <!-- WELCOME CARD -->
    <section class="sd-welcome">
      <div class="sd-welcome-card">
        <h2>Bienvenida, Secretarío Luis</h2>
        <p class="muted">Sesión activa — gestione pacientes, consultas y apoye al equipo médico.</p>
        <!-- BACKEND: replace with user's real name -->
        <!-- Ejemplo PHP: <p class="muted">Sesión iniciada como: Secretaría General – <?= htmlspecialchars($user_name) ?></p> -->
      </div>
    </section>

    <!-- STATS GRID -->
    <section class="sd-stats-grid" aria-label="Estadísticas rápidas">
      <!-- Active Patients -->
      <article class="stat-card teal">
        <div class="stat-icon">
          <!-- SVG inline to avoid distortion -->
          <svg viewBox="0 0 24 24" class="svgi" aria-hidden="true"><path d="M17 20v-2a4 4 0 00-4-4H7a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle></svg>
        </div>
        <div class="stat-body">
          <p class="label">Pacientes Activos</p>
          <p class="value">
            <!-- BACKEND: echo active patients count -->
            <!-- PHP example: <?= $activePatients ?> -->
            0
          </p>
        </div>
      </article>

      <!-- Consultations This Month -->
      <article class="stat-card cyan">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" class="svgi" aria-hidden="true"><path d="M3 8h18M5 4h2m10 0h2M6 2v4m12-4v4M4 8v12h16V8z"></path></svg>
        </div>
        <div class="stat-body">
          <p class="label">Consultas Este Mes</p>
          <p class="value">
            <!-- BACKEND: echo consultationsThisMonth -->
            <!-- PHP example: <?= $consultationsThisMonth ?> -->
            0
          </p>
        </div>
      </article>

      <!-- Total Consultations -->
      <article class="stat-card blue">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" class="svgi" aria-hidden="true"><path d="M3 4h18v16H3z"></path></svg>
        </div>
        <div class="stat-body">
          <p class="label">Total Consultas</p>
          <p class="value">
            <!-- BACKEND: echo total consultations -->
            <!-- PHP example: <?= $totalConsultations ?> -->
            0
          </p>
        </div>
      </article>
    </section>

    <!-- ACTIONS -->
    <section class="sd-actions">
      <a class="action-card" href="../CRS/pages/register-patient.html">
        <div class="action-icon purple"></div>
        <div class="action-text">
          <p class="title">Registrar Nuevo Paciente</p>
          <p class="muted">Añadir paciente al sistema</p>
        </div>
      </a>

      <a class="action-card" href="../CRS/pages/register-patient.html">
        <div class="action-icon indigo"></div>
        <div class="action-text">
          <p class="title">Registrar Consulta</p>
          <p class="muted">En nombre de un médico</p>
        </div>
      </a>

      <a class="action-card" href="../CRS/pages/historial-pacientes.html">
        <div class="action-icon blue"></div>
        <div class="action-text">
          <p class="title">Historial de Pacientes</p>
          <p class="muted">Solo lectura</p>
        </div>
      </a>
    </section>

    <!-- RECENT CONSULTATIONS (server should inject list) -->
    <section class="sd-recent">
      <div class="card">
        <h3>Consultas Recientes</h3>

        <!--
          BACKEND: render recent consultations (limit 7) here.
          Example PHP pseudocode:
          <?php foreach($recentConsultations as $c): ?>
            <article class="recent-item">
              <div class="recent-left">
                <p class="patient-name"><?= htmlspecialchars($c['patientName']) ?></p>
                <p class="diagnosis"><?= htmlspecialchars($c['diagnosis']) ?></p>
                <p class="details"><?= htmlspecialchars($c['details']) ?></p>
              </div>
              <div class="recent-right">
                <p class="date"><?= date_format(new DateTime($c['date']), 'd/m/Y') ?></p>
                <p class="doctor"><?= htmlspecialchars($c['doctorName']) ?></p>
              </div>
            </article>
          <?php endforeach; ?>
        -->

        <!-- Placeholder content (visible if backend not connected) -->
        <div class="recent-empty">
          <p>No hay consultas registradas aún</p>
        </div>
      </div>
    </section>

    <!-- ACTIVE PATIENTS PREVIEW -->
    <section class="sd-patients">
      <div class="card">
        <div class="card-header">
          <h3>Lista de Pacientes Activos</h3>
          <a class="link" href="../CRS/pages/historial-pacientes.html">Ver todos →</a>
        </div>

        <div class="patients-grid">
          <!--
            BACKEND: iterate active patients and render cards
            PHP example:
            <?php foreach($activePatientsList as $p): ?>
              <article class="patient-card">
                <p class="patient-name"><?= htmlspecialchars($p['patientName']) ?></p>
                <p class="meta"><?= htmlspecialchars($p['species']) ?> • <?= htmlspecialchars($p['breed']) ?></p>
                <p class="owner">Dueño: <?= htmlspecialchars($p['ownerName']) ?></p>
              </article>
            <?php endforeach; ?>
          -->

          <!-- Placeholder sample -->
          <article class="patient-card">
            <p class="patient-name">Max</p>
            <p class="meta">Perro • Golden Retriever</p>
            <p class="owner">Dueño: Luka Madrid</p>
          </article>

        </div>
      </div>
    </section>

    <!-- FOOTER NOTE -->
    <footer class="sd-footer">
      <p class="muted">© CLINICAVET — Sistema de gestión. Backend: PHP + MySQL (recomendado).</p>
    </footer>

  </div>
  
<script src="../js/secretary-dashboard.js"></script>
</body>
</html>